# 이미지 추출 및 검색 프로젝트
+ 팀원 : 상진수, 오수빈, 유재언
+ 시작일 : 2021년 4월 2일

## 1. 프로젝트 소개
+ ### 프로젝트 선정 이유
  + 카카오 api, 구글 api 활용 연습
  + Django Framework를 활용한 앱 개발 연습
+ ### 프로젝트 주제
  + 사진에 찍힌 의류를 어디에서 구매할 수 있는지 해당 페이지로 연결해주는 서비스
+ ### 프로젝트 언어 및 환경
  + 언어 : Python
  + 프레임워크 : Django
+ ### 주요기능
  + 이미지 업로드 기능
  + 이미지 추출 기능
  + 이미지 검색 기능
  + 해당 사이트가 의류를 판매하는 사이트인지 필터링 하는 기능

## 2. 시스템 아키텍처
+ ### 도메인 모델 생성
  + 사용자 시나리오1
    + 전제(Given)
      + 사용자가 있다.
      + 사용자는 이미지 파일을 갖고 있다.
    + 조건(When)
      + 사용자가 이미지 파일을 첨부한다.
    + 결과(Then)
      + 이미지가 업로드 된다.

  + 사용자 시나리오2
    + 전제(Given)
      + 사용자가 있다.
      + 이미지가 업로드 되어 있다.
    + 조건(When)
      + 이미지 검색 버튼을 누른다.
    + 결과(Then)
      + 이미지 검색과 필터링을 통해 각 의류에 해당되는 URL이 나온다.

  + 사용자 시나리오3
    + 전제(Given)
      + 사용자가 있다.
      + 이미지 검색이 완료되어 있다.
    + 조건(When)
      + 각 의류에 대한 사이트 링크를 클릭힌다.
    + 결과(Then)
      + 의류에 대한 새 페이지로 이동된다.

+ ### 시스템 작업 정의

  + 1. 시스템 커맨드  
   
    |액터|스토리|커맨드|실행|
    |---|---|---|---|
    |User|이미지 업로드|upload_image()|이미지를 웹 페이지에 업로드한다.|
    |User|이미지 탐색|explore_similar_image()|이미지 검색을 통해 비슷한 이미지에 해당하는 URL을 띄워준다.|

  + 2. 서비스 매핑

    |서비스|작업|
    |---|---|
    |사용자|get_image(), upload_image(), explore_similar_image(), move_to_next_page()|

## 3. 시스템 요약도

------------------------------


(임시 흐름도)
1. 최초 웹페이지 화면
2. 사진 업로드 
3. kakao api를 사용하여 좌표값 획득 
4. 얻은 좌표값으로 이미지 슬라이싱 
5. 슬라이싱된 이미지들로 각각 구글 이미지 검색
6. html의 body값을 참고하여 쇼핑몰 사이트 필터링
7. 웹 페이지 출력 -> 2번의 사진과 각 의류에 해당하는 웹페이지 링크 표시
  
( 2 ~ 6 : 서버에서 작업 )

-----------------------

고려해야 할 점  
+ 1. 서버에서 구글 이미지 검색
  + 1-1. url 활용 방법 : 서버에 이미지를 임시로 업로드하고 해당 url로 검색하는 방법 
    + ( 서버를 항상 열어두어야 함 - 사이드 프로젝트면에서는 무료로 가능 but 서비스를 할 경우 유료화 )
    + ( 파이어베이스를 활용한다면 소규모 네트워킹에서는 가능할 것이라고 생각함 // 파이어베이스 기준 : 하루 읽고 쓰기 2만회 가능 )
    + ( 사진을 서버에 등록 후 사용하면 바로 삭제하므로 용량 문제는 없음 ) 
  + 1-2. 파일 업로드 활용 방법 : 사용자에게 동의를 구하고 슬라이싱 된 사진들을 사용자 로컬 폴더에 저장. 그 후 사진들을 구글 이미지 검색으로 업로드

+ 2. 이미지 검색을 완료하였을 때 얻는 url 주소로 html 정보를 얻어올 수 있는가 ?
  + -> 가능함 ( 파이썬 Selenium or Beautiful Soup 활용 )

